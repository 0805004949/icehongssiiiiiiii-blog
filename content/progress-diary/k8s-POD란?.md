---
title: k8s-POD란?
date: 2023-05-09T18:55:26
tags: ["2023-k8s-bootcamp","k8s","KR","인강-devops를위한-k8s","blog-published"] 

categories: ["TIL"] # <!--"progress-
slug: "" # <!--영어 slug만 가능 url에서 보일 수 있음-->
aliases: "" # <!--뭔지몰라-->
keywords: [""] # <!--뭔지몰라-->
series: "" # <!--뭔지몰라-->
description: "" # <!--포스트에대한설명 -->
lastmod: 2023-05-11T01:42:33
---



## POD란?

- 쿠버네티스 기본 빌딩 블록
- 쿠버네티스는 컨테이너를 개별적으로 배포하지 않고 컨테이너의 POD를 항상 배포하고 운영
- 일반적으로 POD는 단일 컨테이너만 포함하지만 다수의 컨테이너를 포함 할 수 있음. 다수의 컨테이너 포함해서 실행하면 POD안에서 자원공유 할 수 있도록 만들어짐. 
- POD는 다수의 노드에 생성되지 않고 단일 노드에서만 실행
- 여러 프로세스를 실행하기 위해서는 컨테이너 당 단일 프로세스가 적합
- 다수의 프로세스를 제어하려면? -> 다수의 컨테이너를 다룰 수 있는 그룹이 필요

![](https://i.imgur.com/mmJKQKG.png)

- 다른 노드에 걸쳐서 실행되지는 않음(위에서 한쪽 컨테이너는 다른 노드에, 세모는 다른 노드에 있을 수 없음) 하나의 POD는 하나의 노드에서만

## POD 장점
- 밀접하게 연관된 프로세스를 함께 실행하고 마치 하나의 환경에서 동작하는 것처럼 보임
- 그러나 동일한 환경 제공하면서 어느정도 격리된 상태로 유지

## 동일한 POD 내 컨테이너 사이 부분 격리
- 같은 호스트 이름 , 네트워크 인터페이스 공유(그러나 포트 충돌 가능성있음)

## POD 네트워크 

- POD가 할당 받은 네트워크 대역대가 있음
![](https://i.imgur.com/4gSFhak.png)

- 쿠버네티스 클러스터의 모든 POD는 공유된 단일 플랫, 네트워크 주소 공간에 위치
- 포드 사이에는 NAT 게이트 웨이가 존재하지 않음

## POD 구성 방법
![](https://i.imgur.com/EUEBqKA.png)

- POD 안에는 일반적으로 컨테이너 하나. 스케일 아웃시 불필요한 서비스도 복제 할 수 있기에. 두가지의 컨테이너가 밀접한 실행 필요한 경우에만 두개의 컨테이너를 하나의 POD넣는것을 권장함 
- 일반적으로 POD 하나당 하나의 컨테이너, 하나의 컨테이너 안에 하나의 프로세스 


## YAML으로 POD 디스크립터 만들기
- kubectl 명령어로 작성 가능하지만 저장 편하지 않아서
- 모든 k8s 객체 yaml으로 정의하면 버전 제어 시스템 저장가능


## YAML에서 POD 정의
- 메타데이터, 스펙, status, `apiVersion`, `kind` 로 구성
- `apiVersion` : 쿠버네티스 api version
- `kind` : 어떤 리소스 유형인지 결정(POD replica controller, service 등)
- 메타데이터 : POD와 관련된 이름, 네임스페이스, 라벨, 그밖의 정보 존재
- 스펙 : 컨테이너 볼륨 정보
- 상태 : 포드의 상태, 각 컨테이너의 설명 및 상태, 포드 내부 IP 및 그 밖의 기본 정보 

## 📑 Ref
- 인프런 - devops를 위한 쿠버네티스