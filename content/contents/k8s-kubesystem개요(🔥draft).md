---
tags: ["2023-k8s-bootcamp","k8s","KR","ì¸ê°•-devopsë¥¼ìœ„í•œ-k8s","blog-published"] 
categories: ["TIL"] # <!--"progress-diary", "posts"  , "TIL"í•˜ë‚˜ë§Œ ì„ íƒí•´ì„œë³´ì…ˆ -->
slug: "" # <!--ì˜ì–´ slugë§Œ ê°€ëŠ¥ urlì—ì„œ ë³´ì¼ ìˆ˜ ìˆìŒ-->
aliases: "" # <!--ë­”ì§€ëª°ë¼-->
keywords: [""] # <!--ë­”ì§€ëª°ë¼-->
series: "" # <!--ë­”ì§€ëª°ë¼-->
description: "" # <!--í¬ìŠ¤íŠ¸ì—ëŒ€í•œì„¤ëª… -->
title: k8s-kubesystemê°œìš”
date: 2023-05-15T15:21:00
lastmod: 2023-05-15T15:21:37
---

> [!important] 
> ì‹¤ìŠµ GKEì—ì„œ ì•ˆë˜ë¯€ë¡œ ê°€ìƒë¨¸ì‹ ìœ¼ë¡œ ê°ˆê²ƒ 

## api ì„œë²„ 

![](https://i.imgur.com/5pxzHB0.png)


![](https://i.imgur.com/WhZ7UvR.png)

- ì¤‘ì•™ì§‘ì¤‘í™”ëœ, etcdì™€ ìœ ì¼í•˜ê²Œ í†µì‹ 
- etcd=í´ëŸ¬ìŠ¤í„° ì„¤ì • ì°½ê³ , ì—¬ê¸°ì— ì ‘ê·¼ ê°€ëŠ¥í•œ ì‚¬ëŒì€ kubeapiì„œë²„ì´ë‹¤ 


## ì»¨íŠ¸ë¡¤ëŸ¬ ë§¤ë‹ˆì €
- apiëŠ” k8sì—ì„œ (ì°¸ëª¨), ìì›ë“¤ì´ ì–´ì¼€ ì›€ì§ì´ë©´ ì¢‹ì„ì§€ë¥¼ apiì„œë²„ì— ì „ë‹¬
- ì´ ì»¨íŠ¸ë¡¤ëŸ¬ëŠ”apiì— ì˜í•´ ë°›ì•„ì§„ ìš”ì²­ ì²˜ë¦¬í•˜ëŠ” ì—­í•  


## íë¸Œ ìŠ¤ì¼€ì¤„ëŸ¬
- ì‹¤í–‰ë…¸ë“œ ì¼ë°˜ì ìœ¼ë¡œ ì •í•´ì§€ì§€ ì•ŠìŒ
- ë‹¤ìˆ˜ í¬ë“œ ë°°ì¹˜ì‹œ ë¼ìš´ë“œë¡œë¹ˆ
- ë…¸ë“œ ìŠ¤ì¼€ì¤„ë§

ì£¼ìš” ì»´í¬ë„ŒíŠ¸ã…¡ã„¹ì€ `kube-system` ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì— ì¡´ì¬í•¨

## ì¿ ë²„ë„¤í‹°ìŠ¤ íŒŒì¼ ëª¨ì•„ì ¸ìˆëŠ”ê³³

![](https://i.imgur.com/Nzl4slE.png)
proxyëŠ” ë…¸ë“œë§ˆë‹¤ í•œê°œì”© 

## static pod
- ì •ì  ë³´ë“œ
- íë¸Œë¦¿ì´ ì§ì ‘ ì‹«ã…‡
- kubectlì— ì˜í•´ ì‹¤í–‰ë˜ì§€ ì•ŠìŒ
- kubeletì€ ëŒ€ëª¬ì´ ì‹¤í–‰
- ëŸ°íƒ€ì„ì— ê´€ì—¬
- í¬ë“œ ì‚­ì œì‹œ api ì„œë²„í†µí•´ ì‚­ì œë˜ì§€ ì•ŠìŒ ê³„ì† ë„ì–´ì§ ë…¸ë“œì— ì˜í•´ íŠ¹ì •
- `ì •í•´ì§„ ë””ë ‰í† ë¦¬ì—` ì˜¬ë¦¬ë©´ kubeletì— ì˜¬ë¼ê°
- ì´ë•Œ ë””ë ‰í† ë¦¬ëŠ”? -> 
![](https://i.imgur.com/tBGYG31.png)

- etcd->í¬ë“œ 
ì‚¬ìš©ìê°€ ì§€ì›Œë„ ë°”ë¡œ ë³µêµ¬ë˜ëŠ” ê²ƒë“¤ ì‚­ì œëŠ” ë˜ëŠ”ë° ê¸ˆë°© ì˜¬ë¼ê°€ì§, ì—¬ê¸° ì•ˆì— ìˆëŠ” ì¸ìë¥¼ ë³€ê²½í•˜ê³  ì‹¶ë‹¤ë©´? ì´ yml íŒŒì¼ì— ìˆ˜ì •í•˜ëŠ” ì¦‰ì‹œ ê³§ë°”ë¡œ ë°˜ì˜ ë˜ë¯€ë¡œ íŒŒì¼ì„ ë°±ì—… í•´ë†“ëŠ”ê²Œ ì¢‹ë‹¤ 

## ì‹¤ìŠµ

ë§ˆìŠ¤í„° ë…¸ë“œ

- vim /etc/kubernets/manifests
ì—¬ê¸°ë¥¼ ë³€ê²½í•˜ê³  ì‹¶ë‹¤ë©´? 

kubeletì´ ì‹¤í–‰í•˜ë¯€ë¡œ 

- service kubelet status ëŒ€ëª¬ ë³´ë©´  vim /etc/system/kubelet.service.d ì— íŒŒì¼ìˆëŠ”ê±° í™•ì¸ ì„œë¹„ìŠ¤ ì‹¤í–‰ì‹œì¼œì£¼ëŠ” íŒŒì¼ ì—´ì–´ì„œ
kubeconfë¥¼ ã…—ë©´ íë¸Œë ›ì— ëŒ€í•œ ë©¸ë ì–´ê°€ ì •í•´ì¡ã…†ìŒ
íë¸Œë ›ì´ ì´ ì¸ìë“¤ í†µí•´ ì‹¤í–‰ë¨ 

![](https://i.imgur.com/qoxSVl2.png)

kubelet/config.yamlí™•ì¸ ì—¬ê¸° ì—´ì–´ë³´ë©´ ì„¤ì •ë“¤ì´ í¬í•¨ë˜ì–´ìˆëŠ”ë° staticpodpathë¥¼ ìˆ˜ì •! kubernetis manifest ã…•ã…‡ë¡œ ë³€ê²½

manifestê²½ë¡œ ì•„ë˜ stati-pod.yaml ìƒì„±
![](https://i.imgur.com/hjKtSqL.png)

ì €ì¥ë§Œí•´ë„ ì‹¤í–‰ë˜ì–´ì•¼í•¨
![](https://i.imgur.com/l3nJ56w.png)

ì§€ì›Œë„ ì•ˆì§€ì›Œì§

![](https://i.imgur.com/4xoeT93.png)


## ğŸ“‘ Ref
- ì¸í”„ëŸ° - devopsë¥¼ ìœ„í•œ ì¿ ë²„ë„¤í‹°ìŠ¤
